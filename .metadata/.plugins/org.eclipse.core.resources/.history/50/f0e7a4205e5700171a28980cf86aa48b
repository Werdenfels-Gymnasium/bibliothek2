import java.io.*;
import controller.*;
import model.Storage;
import view.hauptfenster;

public class main {
	
	static Storage storage = new Storage();

	public static void main(String[] args) {
		File file = new File ("erststart.dat");
		if (file.isFile() && file.canWrite() && file.canRead()) {
			//Normaler Start!
			System.out.println("Dateiauslesung wird initialisiert");
			laden();
		}
		else {
			
			//Erststart!
			
			System.out.println("Erststart wird ausgeführt! Dateien können verloren gehen!");
			storage.erststart();
			try {
				file.createNewFile();
			} catch (IOException e) {
				e.printStackTrace();
			}
			File xml = new File ("storage.xml");
			try {
				xml.createNewFile();
				System.out.println("Storage/Speicher erstellt");
			} catch (IOException e) {
				e.printStackTrace();
			}
			System.out.println("Erstart abgespeichert!");
			speichern();
		}
		hauptfenster haupt1 = new hauptfenster(storage;)
	}
	
	public static boolean speichern () {
		XMLSerializer serializer = new XMLSerializer();
		serializer.speichern(storage);
		return true;
	}
	
	public static boolean laden () {
		XMLDeserializer deserializer = new XMLDeserializer();
		storage = deserializer.laden();
		return true;
	}
}
